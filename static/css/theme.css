/* ==== Mobile-first 基本主題 ==== */
:root{
  --bg:#f7fafc; --card:#ffffff; --text:#111827; --muted:#6b7280;
  --brand:#16a34a; --brand-2:#0ea5e9; --danger:#ef4444; --ring:rgba(14,165,233,.35);
  --radius:16px; --shadow:0 8px 30px rgba(0,0,0,.06);
  --font: "Noto Sans TC","Segoe UI",system-ui,-apple-system,sans-serif;
}
*{box-sizing:border-box}
html{height:100%; -webkit-text-size-adjust:100%}
body{
  height:100%; margin:0; font-family:var(--font); color:var(--text); background:var(--bg);
  line-height:1.7;
  -webkit-tap-highlight-color: rgba(0,0,0,0);
}
img,video{max-width:100%; display:block}

/* 容器與卡片 */
.container{max-width:980px; margin:16px auto; padding:0 12px}
.card{background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); padding:16px}

/* 標題 */
h1{margin:6px 0 12px; font-size:1.25rem; letter-spacing:.2px}
h2{margin:6px 0 8px; font-size:1.1rem; color:var(--muted); letter-spacing:.15px}
p{margin:6px 0}

/* 導覽列（手機優化：高、間距、可捲動） */
.nav{
  position:sticky; top:0; z-index:50; background:rgba(255,255,255,.9);
  backdrop-filter:saturate(180%) blur(12px); border-bottom:1px solid #e5e7eb;
  display:flex; align-items:center; justify-content:space-between; padding:10px 12px;
}
.nav__brand{font-weight:700; text-decoration:none; color:var(--text); white-space:nowrap}
.nav a{ text-decoration:none; color:var(--text) }
.nav__right{display:flex; align-items:center; gap:6px; overflow:auto; scrollbar-width:none}
.nav__right::-webkit-scrollbar{display:none}

/* 按鈕（手機預設全寬） */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:6px;
  padding:14px 16px; border-radius:14px; background:var(--brand-2); color:#fff;
  border:1px solid transparent; cursor:pointer; box-shadow:var(--shadow);
  width:100%; min-height:48px; font-size:1rem;
}
.btn:hover{filter:brightness(1.05)}
.btn:focus{outline:3px solid var(--ring); outline-offset:2px}
.btn-outline{background:#fff; color:var(--brand-2); border-color:var(--brand-2)}
.btn-ghost{background:transparent; color:var(--text); border-color:transparent; box-shadow:none}
.btn-danger{background:var(--danger)}
.btn-group{display:flex; flex-direction:column; gap:10px}
.btn-block{width:100%}

/* 大於 768px 才取消全寬 */
@media (min-width: 768px){
  .btn{width:auto}
  .btn-group{flex-direction:row; flex-wrap:wrap}
}

/* 輸入元件 */
.input, select, textarea{
  width:100%; padding:12px 14px; border-radius:12px; border:1px solid #e5e7eb; background:#fff; min-height:46px;
}
.input:focus, select:focus, textarea:focus{outline:3px solid var(--ring); border-color:transparent}

/* 網格：手機單欄，寬螢幕分欄 */
.grid{display:grid; gap:12px}
.grid-2{grid-template-columns:1fr}
.grid-3{grid-template-columns:1fr}
@media (min-width: 900px){
  .grid-2{grid-template-columns:repeat(2,minmax(0,1fr))}
  .grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}
}

/* 底部操作（手機加大、吃安全區） */
.sticky-actions{
  position:sticky; bottom:0; z-index:10; background:rgba(255,255,255,.96);
  backdrop-filter: blur(8px); border-top:1px solid #e5e7eb; padding:12px;
  border-bottom-left-radius:var(--radius); border-bottom-right-radius:var(--radius);
  padding-bottom: calc(12px + env(safe-area-inset-bottom));
}

/* 小工具 */
.flex{display:flex; gap:12px}
.flex-col{display:flex; flex-direction:column; gap:12px}
.center{display:flex; align-items:center; justify-content:center}
.right{margin-left:auto}
.badge{display:inline-block; padding:.2rem .5rem; border-radius:999px; background:#eef6ff; color:#0369a1}
.kbd{font:12px/1.2 ui-monospace,SFMono-Regular; background:#f3f4f6; border:1px solid #e5e7eb; padding:2px 6px; border-radius:6px}
.muted{color:var(--muted)}

/* 卡片 hover（桌機有感、手機不影響） */
.card{transition: transform .12s ease, box-shadow .12s ease}
@media (hover:hover){
  .card:hover{transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,.12)}
}

/* Alert */
.alert{border:1px solid #e5e7eb; border-left:4px solid var(--brand-2); background:#f8fafc; padding:12px 14px; border-radius:12px}
.alert.error{border-left-color: var(--danger); background:#fff1f2}

/* 表格（手機可捲動 + 吸頂表頭） */
.table-wrap{width:100%; overflow:auto; border-radius:12px; box-shadow: var(--shadow)}
.table{width:100%; border-collapse:separate; border-spacing:0; background:#fff; font-size:.95rem}
.table th,.table td{padding:12px 12px; text-align:left; border-bottom:1px solid #eef2f7}
.table thead th{background:#f8fafc; color:#334155; font-weight:600; position:sticky; top:0; z-index:1}
.table tr:last-child td{border-bottom:none}
.table tr:hover td{background:#f9fbff}
.table .cell-muted{color:var(--muted); font-size:.92rem}
.table-compact th,.table-compact td{padding:10px 10px}
.table-striped tbody tr:nth-child(odd) td{background:#fcfdff}

/* 圖片遺失標示 */
.photo-card{position:relative}
.photo-card.is-missing::after{
  content:"已刪除"; position:absolute; top:10px; left:10px;
  background:#fff1f2; color:#991b1b; border:1px solid #fecaca;
  padding:2px 8px; border-radius:999px; font-size:.85rem;
}

/* 色塊、貼紙、條狀分數條（結果視覺） */
.pill{display:inline-flex; align-items:center; gap:6px; padding:.25rem .6rem; border-radius:999px; font-size:.85rem; border:1px solid #e5e7eb; background:#fff}
.pill.ok{border-color:#86efac; background:#ecfdf5; color:#166534}
.pill.bad{border-color:#fecaca; background:#fff1f2; color:#991b1b}
.pill.neutral{border-color:#e5e7eb; background:#f8fafc; color:#334155}
.swatch{display:inline-block; width:16px; height:16px; border-radius:4px; border:1px solid rgba(0,0,0,.08); box-shadow: inset 0 0 0 1px rgba(255,255,255,.6)}
.bar{position:relative; height:10px; border-radius:6px; background:#eef2f7; overflow:hidden}
.bar > i{position:absolute; inset:0; width:var(--w,0%); background:linear-gradient(90deg,#93c5fd,#60a5fa); border-radius:inherit}

.footer{color:var(--muted); border-top:1px solid #e5e7eb; padding:10px 12px; display:flex; align-items:center; justify-content:space-between}
.footer__links a{color:var(--muted); margin-left:12px}
